<div class="notificacoes-container">
  <button class="btn-notificacoes" (click)="toggleNotificacoes()">
    <mat-icon
      class="notificacao"
      [matBadge]="countNotificacoes()"
      matBadgeColor="warn"
      >notifications</mat-icon
    >
  </button>

  <div class="notificacoes-dropdown" [class.open]="dropdownAberto">
    <div class="dropdown-header">
      <h3>Notificações</h3>
      <button class="fechar-dropdown" (click)="fecharDropdown()">×</button>
    </div>

    <div class="notificacoes-content">
      @if(notificacoes && notificacoes.length > 0) {
      <ul class="notificacoes-list">
        @for (notificacao of notificacoes; track notificacao.id) {
        <li
          class="notificacao-item"
          (click)="handleNotificacaoClick(notificacao)"
        >
          <div class="notificacao-titulo">{{ notificacao.titulo }}</div>
          <div class="notificacao-mensagem">{{ notificacao.mensagem }}</div>
          <div class="notificacao-data">
            {{ notificacao.data | date : "short" }}
          </div>
        </li>
        }
      </ul>
      } @else {
      <div class="no-notificacoes">
        <mat-icon>notifications_off</mat-icon>
        <p>Nenhuma notificação</p>
      </div>
      }
    </div>
  </div>
</div>
